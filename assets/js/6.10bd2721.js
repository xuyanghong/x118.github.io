(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{365:function(s,t,a){s.exports=a.p+"assets/img/xss1.b2105081.png"},401:function(s,t,a){"use strict";a.r(t);var r=a(45),e=Object(r.a)({},(function(){var s=this,t=s.$createElement,r=s._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[r("h1",{attrs:{id:"浅谈xss攻击"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#浅谈xss攻击"}},[s._v("#")]),s._v(" 浅谈XSS攻击")]),s._v(" "),r("h3",{attrs:{id:"什么是xss攻击-摘自百度百科"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#什么是xss攻击-摘自百度百科"}},[s._v("#")]),s._v(" 什么是XSS攻击 (摘自百度百科)")]),s._v(" "),r("p",[r("code",[s._v("“XSS是跨站脚本攻击(Cross Site Scripting)，为不和层叠样式表(Cascading Style Sheets, CSS)的缩写混淆，故将跨站脚本攻击缩写为XSS。恶意攻击者往Web页面里插入恶意Script代码，当用户浏览该页之时，嵌入其中Web里面的Script代码会被执行，从而达到恶意攻击用户的目的。”")])]),s._v(" "),r("ul",[r("li",[s._v("举例：留言板")])]),s._v(" "),r("p",[r("code",[s._v("在留言内容中丢进去一行")])]),s._v(" "),r("div",{staticClass:"language-js line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-js"}},[r("code",[r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("script"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),r("span",{pre:!0,attrs:{class:"token function"}},[s._v("alert")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("“hey"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("you are attacked”"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("script"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br")])]),r("p",[r("code",[s._v("那么留言板界面的网页代码就会变成形如以下：")])]),s._v(" "),r("div",{staticClass:"language-js line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-js"}},[r("code",[r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("html"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("head"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n       "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("title"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("留言板"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("title"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("head"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("body"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("div id"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("”board” \n        "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("script"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),r("span",{pre:!0,attrs:{class:"token function"}},[s._v("alert")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("“hey"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("you are attacked”"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("script"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("div"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("     \n    "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("body"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("html"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br"),r("span",{staticClass:"line-number"},[s._v("2")]),r("br"),r("span",{staticClass:"line-number"},[s._v("3")]),r("br"),r("span",{staticClass:"line-number"},[s._v("4")]),r("br"),r("span",{staticClass:"line-number"},[s._v("5")]),r("br"),r("span",{staticClass:"line-number"},[s._v("6")]),r("br"),r("span",{staticClass:"line-number"},[s._v("7")]),r("br"),r("span",{staticClass:"line-number"},[s._v("8")]),r("br"),r("span",{staticClass:"line-number"},[s._v("9")]),r("br"),r("span",{staticClass:"line-number"},[s._v("10")]),r("br")])]),r("p",[r("code",[s._v("当浏览器解析到用户输入的代码那一行时，浏览器并不知道这些代码改变了原本程序的意图，会照做弹出一个信息框。")])]),s._v(" "),r("p",[r("img",{attrs:{src:a(365),alt:"An image"}})]),s._v(" "),r("h3",{attrs:{id:"xss的危害"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#xss的危害"}},[s._v("#")]),s._v(" XSS的危害")]),s._v(" "),r("p",[r("code",[s._v("其实归根结底，XSS的攻击方式就是想办法“教唆”用户的浏览器去执行一些这个网页中原本不存在的前端代码。")])]),s._v(" "),r("p",[r("code",[s._v("举例")])]),s._v(" "),r("ul",[r("li",[s._v("1、窃取网页浏览中的cookie值")]),s._v(" "),r("li",[s._v("2、劫持流量实现恶意跳转")])]),s._v(" "),r("h3",{attrs:{id:"利用与绕过"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#利用与绕过"}},[s._v("#")]),s._v(" 利用与绕过")]),s._v(" "),r("p",[r("code",[s._v("举例")])]),s._v(" "),r("ul",[r("li",[s._v("1、大小写绕过 利用过滤后返回语句再次构成攻击语句来绕过")])]),s._v(" "),r("p",[r("code",[s._v("这个利用原理在于只过滤了一个script标签")])]),s._v(" "),r("div",{staticClass:"language-js line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-js"}},[r("code",[r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("sCri"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("script"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("pt"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),r("span",{pre:!0,attrs:{class:"token function"}},[s._v("alert")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),r("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hey!"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("scRi"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("script"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("pt"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br")])]),r("p",[r("code",[s._v("指定的图片地址根本不存在也就是一定会发生错误，这时候onerror里面的代码自然就得到了执行。")])]),s._v(" "),r("div",{staticClass:"language-js line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-js"}},[r("code",[r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("img src"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),r("span",{pre:!0,attrs:{class:"token string"}},[s._v("'w.123'")]),s._v(" onerror"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),r("span",{pre:!0,attrs:{class:"token string"}},[s._v("'alert(\"hey!\")'")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br")])]),r("ul",[r("li",[s._v("2、编码脚本代码绕过关键字过滤")])]),s._v(" "),r("p",[r("code",[s._v("alert(1)编码过后就是")])]),s._v(" "),r("div",{staticClass:"language-js line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-js"}},[r("code",[s._v("\\u0061\\u006c\\u0065\\u0072\\"),r("span",{pre:!0,attrs:{class:"token function"}},[s._v("u0074")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("script"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),r("span",{pre:!0,attrs:{class:"token function"}},[s._v("eval")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\\u0061\\u006c\\u0065\\u0072\\"),r("span",{pre:!0,attrs:{class:"token function"}},[s._v("u0074")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),r("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("script"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br"),r("span",{staticClass:"line-number"},[s._v("2")]),r("br")])]),r("ul",[r("li",[s._v("3、主动闭合标签实现注入代码")])]),s._v(" "),r("div",{staticClass:"language-js line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-js"}},[r("code",[r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("script"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),r("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" $name "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hello"')]),s._v("\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("script"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\nhttp"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("www"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("baidu"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v("$name"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),r("span",{pre:!0,attrs:{class:"token string"}},[s._v('";alert("')]),r("span",{pre:!0,attrs:{class:"token constant"}},[s._v("I")]),s._v(" am coming again"),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),r("span",{pre:!0,attrs:{class:"token string"}},[s._v('");"')]),s._v("\n\n"),r("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" $name "),r("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),r("span",{pre:!0,attrs:{class:"token function"}},[s._v("alert")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),r("span",{pre:!0,attrs:{class:"token string"}},[s._v('"I am coming again~"')]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),r("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v("\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br"),r("span",{staticClass:"line-number"},[s._v("2")]),r("br"),r("span",{staticClass:"line-number"},[s._v("3")]),r("br"),r("span",{staticClass:"line-number"},[s._v("4")]),r("br"),r("span",{staticClass:"line-number"},[s._v("5")]),r("br"),r("span",{staticClass:"line-number"},[s._v("6")]),r("br"),r("span",{staticClass:"line-number"},[s._v("7")]),r("br")])]),r("p",[r("code",[s._v("先是闭合引号，然后分号换行，加入代码，再闭合一个引号")])]),s._v(" "),r("h3",{attrs:{id:"xss攻击大致上分为两类"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#xss攻击大致上分为两类"}},[s._v("#")]),s._v(" XSS攻击大致上分为两类")]),s._v(" "),r("div",{staticClass:"custom-block tip"},[r("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),r("ul",[r("li",[s._v("一类是反射型XSS，又称非持久型XSS，")]),s._v(" "),r("li",[s._v("一类是储存型XSS，也就是持久型XSS。")])])]),s._v(" "),r("p",[r("code",[s._v("什么是反射型XSS? 就是攻击相对于访问者而言是一次性的，具体表现在我们把我们的恶意脚本通过url的方式传递给了服务器，而服务器则只是不加处理的把脚本“反射”回访问者的浏览器而使访问者的浏览器执行相应的脚本。也就是说想要触发漏洞，需要访问特定的链接才能够实现。")])]),s._v(" "),r("p",[r("code",[s._v("什么是储存型XSS? 就是服务器再接收到我们的恶意脚本时会将其做一些处理。如上文讲的留言板案例。")])]),s._v(" "),r("h3",{attrs:{id:"实例应用"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#实例应用"}},[s._v("#")]),s._v(" 实例应用")]),s._v(" "),r("ul",[r("li",[s._v("1、劫持访问\n"),r("code",[s._v("劫持访问就是在恶意脚本中插入诸如的代码，那么页面就会跳转到百度首页。")])])]),s._v(" "),r("p",[r("code",[s._v("非持久型XSS中劫持访问有什么作用呢？ 很简单，试想下像http://qq.com，http://baidu.com这样的域名下出现非持久型XSS，那么在发送钓鱼链接时就可以通过http://qq.com等域名进行跳转，一般人一看到http://qq.com之类的域名警惕性会下降，也就更容易上当了。")])]),s._v(" "),r("ul",[r("li",[s._v("2、盗用cookie实现无密码登录")]),s._v(" "),r("li",[s._v("3、配合csrf攻击完成恶意请求\n"),r("code",[s._v("Csrf攻击就是在未经你许可的情况下用你的名义发送恶意请求（比如修改密码，银行转账等）")]),s._v(" "),r("code",[s._v("Cross-site request forgery跨站请求伪造，也被称为“One Click Attack”或者Session Riding，通常缩写为CSRF或者XSRF，是一种对网站的恶意利用。CSRF定义的主语是”请求“，是一种跨站的伪造的请求，指的是跨站伪造用户的请求，模拟用户的操作.")])])]),s._v(" "),r("h3",{attrs:{id:"防范手段"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#防范手段"}},[s._v("#")]),s._v(" 防范手段")]),s._v(" "),r("ul",[r("li",[s._v("1、首先是过滤。对诸如"),r("code",[s._v("<script>、<img>、<a>")]),s._v("等标签进行过滤。")]),s._v(" "),r("li",[s._v("2、其次是编码。像一些常见的符号，如<>在输入的时候要对其进行转换编码，这样做浏览器是不会对该标签进行解释执行的，同时也不影响显示效果。")]),s._v(" "),r("li",[s._v("3、最后是限制。通过以上的案例我们不难发现xss攻击要能达成往往需要较长的字符串，因此对于一些可以预期的输入可以通过限制长度强制截断来进行防御。")])])])}),[],!1,null,null,null);t.default=e.exports}}]);